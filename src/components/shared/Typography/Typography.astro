---
import type { HTMLAttributes, HTMLTag } from 'astro/types';
import styles from './Typography.module.scss';

type Props<Tag extends HTMLTag> = HTMLAttributes<Tag> & {
  variant?: 'h1' | 'h2' | 'h3' | 'body1' | 'body2' | 'body3' | 'extra' | 'button';
  as?: Tag;
  class?: string;
};

const { as, variant = 'body1', class: className, ...rest } = Astro.props as Props<any>;

// Variants mapping
const variantToTag: Record<NonNullable<Props<any>['variant']>, HTMLTag> = {
  h1: 'h1',
  h2: 'h2',
  h3: 'h3',
  body1: 'p',
  body2: 'p',
  body3: 'p',
  extra: 'p',
  button: 'span',
};

const Tag = as || variantToTag[variant];
---

<Tag class:list={[styles.typography, styles[`typography--${variant}`], className]} {...rest}>
  <slot />
</Tag>
